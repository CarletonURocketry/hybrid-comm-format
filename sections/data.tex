\section{Data}

% TODO: This section should become the telemetry section
% The telemetry section includes sensor data but also telemetry about the system's state and actuator states
% This being broadcast as telemetry allows for two distinct client types: a telemetry display/consumer of data and a
% controller.
% This specification should also include packets for warnings on temperature and pressure thresholds.

The hybrid control system monitors three key types of data:

\begin{enumerate}
    \item Temperature
    \item Pressure
    \item Mass
\end{enumerate}

These measurements give the operator insight into whether or not the system is becoming unstable, if filling is
proceeding nominally, etc.

All measurements must also be recorded during tests for later analysis and evaluation. They must therefore be
associated with a measurement time stamp.

\subsection{Temperature}

\begin{figure}[H]
    \centering
    \begin{bytefield}{32}
        \bitheader{0-31} \\
        \wordbox{1}{Time} \\
        \wordbox{1}{Temperature} \\
        \bitbox{8}{ID} \\
    \end{bytefield}
    \caption{Temperature data format}
    \label{format:data-temp}
\end{figure}

\textbf{Time:} A time stamp measured in milliseconds since the system received power. This field is an unsigned 32-bit
integer.

\textbf{Temperature:} Temperature measured in millidegrees Celsius. This field is a signed 32-bit integer.

\textbf{ID:} The numerical ID of the sensor which took the measurement. This field is an unsigned 8-bit integer.

\subsection{Pressure}

\begin{figure}[H]
    \centering
    \begin{bytefield}{32}
        \bitheader{0-31} \\
        \wordbox{1}{Time} \\
        \wordbox{1}{Pressure} \\
        \bitbox{8}{ID} \\
    \end{bytefield}
    \caption{Pressure data format}
    \label{format:data-pressure}
\end{figure}

\textbf{Time:} A time stamp measured in milliseconds since the system received power. This field is an unsigned 32-bit
integer.

\textbf{Pressure} Pressure measured in thousandths of PSI (milli-PSI). This field is an unsigned 32-bit integer.

\textbf{ID:} The numerical ID of the sensor which took the measurement. This field is an unsigned 8-bit integer.

\subsection{Mass}

\begin{figure}[H]
    \centering
    \begin{bytefield}{32}
        \bitheader{0-31} \\
        \wordbox{1}{Time} \\
        \wordbox{1}{Mass} \\
        \bitbox{8}{ID} \\
    \end{bytefield}
    \caption{Mass data format}
    \label{format:data-mass}
\end{figure}

\textbf{Time:} A time stamp measured in milliseconds since the system received power. This field is an unsigned 32-bit
integer.

\textbf{Mass} Mass measured in grams. This field is an unsigned 32-bit integer.

\textbf{ID:} The numerical ID of the sensor which took the measurement. This field is an unsigned 8-bit integer.
